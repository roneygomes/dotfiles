# =============================================
# ERGONOMICS & PREFIX
# =============================================

# Change prefix to Ctrl+w
set -g prefix C-w
unbind C-b
bind C-w send-prefix

# Start window and pane numbering at 1 (matches keyboard layout)
set -g base-index 1
setw -g pane-base-index 1

# Rename window to reflect current program
setw -g automatic-rename on

# Re-number windows when one is closed
set -g renumber-windows on

# =============================================
# NAVIGATION & SPLITS
# =============================================

# Use v and s for intuitive vertical and horizontal splits
bind v split-window -h -c "#{pane_current_path}"
bind s split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# Use Vim keys (h, j, k, l) to switch panes
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Enable mouse support (scrolling, clicking, resizing)
set -g mouse on

# =============================================
# COPY MODE (SCROLLBACK)
# =============================================

# Use Vim keys in copy mode (Prefix + [)
setw -g mode-keys vi

# Increase scrollback history (default is too low)
set -g history-limit 50000

# =============================================
# LOOK & FEEL
# =============================================

# Enable TrueColor
set -g default-terminal "screen-256color"
set -as terminal-features ",xterm-256color:RGB"

# Refresh and justify
set -g status-interval 5
set -g status-justify right
set -g status-style "bg=default" # Global transparency

# Left side: Session name
set -g status-left ""

# Right side: Current directory, Git branch, Hostname and Clock
set -g status-right-length 80
set -g status-right "#[fg=blue,bold] #S #[fg=white,nobold]"

# Inactive window
setw -g window-status-format "#[fg=brightblack,bg=default,noitalic] #I:#W "

# Active window (with your dot indicator for zoom)
setw -g window-status-current-format "#[fg=cyan,bg=default,bold] #I:#W#{?window_zoomed_flag, ‚óè,} "

# Ensure no extra background color between the fragments
# set -g window-status-separator ""

# Message text
set -g message-style "fg=yellow,bg=default,bold"

# =============================================
# PLUGINS (TPM)
# =============================================

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
# set -g @plugin '2kabhishek/tmux2k'

# set -g @tmux2k-theme 'duo icons'

# Initialize TMUX plugin manager (keep this line at the very bottom)
run '~/.tmux/plugins/tpm/tpm'
